{% extends "base.html" %}
{% load i18n %}

{% block extrahead %}
    <link rel="stylesheet" href="{{STATIC_URL}}css/welcome.css">
{% endblock extrahead %}

{% block content %}
    

<!-- Begin CalCentral Customized -->
{% if user.is_authenticated %}
    <div id="welcome_authenticated">
        <div class="welcome-block gearbox">
              <img src="{{STATIC_URL}}images/welcome/calcentral_welcome.png" width="100" alt="" />
            <p>
              You are part of the CalCentral Pilot. Help shape its future by <a class="s3d-regular-links" href="http://ets.berkeley.edu/calcentral-feedback" target="_blank">telling us what you what you think</a>.<br />
              To learn more about what CalCentral can do for you, visit <a class="s3d-regular-links" href="/~Help-and-Support">the Help and Support pages.</a>
            </p>

            <h3>API Examples</h3>
            <p>Using Tasty Pie for auto-generating JSON output - building blocks toward a public API.</p>


            <p>Example API URLs - Note the hierarchical traversal from top level down</p>

            <ul>
                <li><a href="http://127.0.0.1:8000/api/cc/?format=json">All JSON feeds</a></li>
            <li><a href="http://127.0.0.1:8000/api/cc/course_offerings/?format=json">All courses, paginated</a></li>
            <li><a href="http://127.0.0.1:8000/api/cc/course_offerings/2/?format=json">A single course, with some Foreign Key fields resolved (location and parent course are sub-dicts)</a></li>
            <li><a href="http://127.0.0.1:8000/api/cc/people/?format=json">All people, paginated</a></li>
            <li><a href="http://127.0.0.1:8000/api/cc/people/3/?format=json">A single person, with some ForeignKey fields resolved (username is FK, full name is a model method)</a></li>
            </ul>

            <p>If you want XML output rather than JSON, use format=xml as url param instead
                        (requires "pip install lxml")</p>


            <h3>Model-once example</h3>

            <p>
                One of the huge wins of Django system is obsessively DRY data modeling. Data structures are defined once and only once in the system, resulting in massive productivity wins. For example, consider the simple News model. See the definition in apps/news/models.py. From this single model we get all of the following, with zero duplication of data structures, no possibility of data structures for one user not matching those of another, easy JSON and RSS output, a self-generating administrative interface, easily rendered page views, and native form field input validation with a minimum of code. The productivity gains are immense, and the possibilties of errors drastically reduced. 
            </p>

            <ul>
                <li> <a href="{% url admin:news_story_changelist %}">Administrative interface</a> (requires superuser login). Note how field types are resolved to correct UI widgets automatically.</li>

                <li> <a href="{% url news_story_list %}">List display</a> Trivial template work.</li>

                <li> <a href="{% url news_story_detail 1 %}">Single object display</a> Trivial template work.</li>               

                <li><a href="/api/cc/stories/?format=json">JSON feed</a> (see apps/api/api.py)</li>

                <li><a href="/feeds/news/">RSS feed</a> (see apps/news/feeds.py)</li>

            </ul>

        </div>
    </div>

{% else %}    


<div>
    <div class="welcome-block welcome-unauth">
        <div id="welcome-block-a">
            <p id="top"><strong>Unifying</strong> the online experience<br />at <strong>UC Berkeley!</strong></p>
            <div id="bottom">
                <p><strong>CalCentral</strong> is a new resource for the <strong>UC Berkeley community</strong>.</p>
            </div>
        </div>

        <div id="welcome-block-b">
            <h2>CalCentral: Pilot Release</h2>

            <p>We are hard at work <strong>improving</strong> this pilot release of <strong>CalCentral</strong>. As we improve it, you may notice changes to some existing features, or new capabilities being added to the system. This is all part of the development process, so stay tuned. </p>

            <p><strong>In this release, pilot students, staff and faculty&nbsp;can:</strong></p>

            <ul class="welcomelist">
                <li>Create project, course and other groups</li>
                <li>Create, organize and share information and documents</li>
                <li>Send and receive messages</li>
                <li>Collaborate in a network of classmates and colleagues</li>
                <li>Maintain a personal profile and portfolio to share with the campus and the world</li>
            </ul>

            <p>
                <img src="{{STATIC_URL}}images/welcome/handshake.png" alt="Handshake icon" width="38" height="33" style="float:left;padding-right:10px;">
                <span style="font-size:1.3em;font-weight:bold;">We want to hear from you!</span><br />
                <a href="http://ets.berkeley.edu/calcentral-feedback" class="s3d-regular-links">Click here and tell us what you think.</a>
            </p>
        </div>
    </div>
</div>
{% endif %}


<!-- End CalCentral Customized -->

{% endblock %}